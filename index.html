<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <title>p5.js Responsive Example</title>
  <style>
    img {
      display: block;
      position: absolute;
    }
    .emotion-label {
      text-align: center;
    }
  </style>
</head>
<body>
  <script>
    let backgroundImages = [];
    let motifImages = [];
    let emotionsA = ['joy', 'trust', 'fear', 'surprise', 'sadness', 'disgust', 'anger', 'anticipation'];
    let emotionsB = ['ecstasy', 'adoration', 'terror', 'amazement', 'grief', 'loathing', 'rage', 'vigilance'];
    let emotionsC = ['serenity', 'acceptance', 'apprehension', 'distraction', 'pensiveness', 'boredom', 'annoyance', 'interest'];
    let radiusA, radiusB, radiusC;
    let emotionSize;
    let buttons = {}; // ボタンのオブジェクト

    function preload() {
      // 背景画像やモチーフ画像の読み込み
      backgroundImages[0] = loadImage('https://mooo0ooo.github.io/diary/background1.png');
      backgroundImages[1] = loadImage('https://mooo0ooo.github.io/diary/background2.png');
      backgroundImages[2] = loadImage('https://mooo0ooo.github.io/diary/background3.png');
      backgroundImages[3] = loadImage('https://mooo0ooo.github.io/diary/background4.png');

      motifImages['Joy'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/fireworks-removebg-preview.png');
      motifImages['Trust'] = loadImage('https://mooo0ooo.github.io/diary/sun-removebg-preview.png');
      motifImages['Fear'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/moon-removebg-preview.png');
      motifImages['Surprise'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/thunder.PNG');
      motifImages['Sadness'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/shooting_star-removebg-preview.png');
      motifImages['Disgust'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/rain.PNG');
      motifImages['Anger'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/star-removebg-preview.png');
      motifImages['Anticipation'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/balloon.PNG');
      motifImages['Ecstasy'] = loadImage('https://mooo0ooo.github.io/diary/rose.PNG');
      motifImages['Adoration'] = loadImage('https://mooo0ooo.github.io/diary/tulip.PNG');
      motifImages['Terror'] = loadImage('https://mooo0ooo.github.io/diary/yellowFlower.PNG');
      motifImages['Amazement'] = loadImage('https://mooo0ooo.github.io/diary/clover.PNG');
      motifImages['Grief'] = loadImage('https://mooo0ooo.github.io/diary/futaba.PNG');
      motifImages['Loathing'] = loadImage('https://mooo0ooo.github.io/diary/mizuiroFlower.PNG');
      motifImages['Rage'] = loadImage('https://mooo0ooo.github.io/diary/blueFlower.PNG');
      motifImages['Vigilance'] = loadImage('https://mooo0ooo.github.io/diary/cherryBlossom.PNG');
      motifImages['Serenity'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/apple.PNG');
      motifImages['Acceptance'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/carrot.PNG');
      motifImages['Apprehension'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/egg.PNG');
      motifImages['Distraction'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/avocado.PNG');
      motifImages['Pensiveness'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/broccoli.PNG');
      motifImages['Boredom'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/turnip.PNG');
      motifImages['Annoyance'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/fork.PNG');
      motifImages['Interest'] = loadImage('https://raw.githubusercontent.com/mooo0ooo/diary/main/glove.PNG');
    }

    function setup() {
      createCanvas(windowWidth, windowHeight);
      calculateSizes();

      // 感情のボタンを作成
      createEmotionButtons();
    }

    function draw() {
      clear();
      background(255); // 白背景
      translate(width / 2, height / 2);

      drawEmotionCircle(emotionsA, radiusA);
      drawEmotionCircle(emotionsB, radiusB);
      drawEmotionCircle(emotionsC, radiusC);
    }

    function drawEmotionCircle(emotions, radius) {
      let angleStep = TWO_PI / emotions.length;

      for (let i = 0; i < emotions.length; i++) {
        let angle = i * angleStep;
        let x = cos(angle) * radius;
        let y = sin(angle) * radius;

        // ボタンの位置を更新
        buttons[emotions[i]].position(width / 2 + x - emotionSize / 2, height / 2 + y - emotionSize / 2);
      }
    }

    function createEmotionButtons() {
      // ボタンの作成と初期設定
      buttons['joy'] = createButton('Joy').mousePressed(() => handleEmotionButton('Joy'));
      buttons['trust'] = createButton('Trust').mousePressed(() => handleEmotionButton('Trust'));
      buttons['fear'] = createButton('Fear').mousePressed(() => handleEmotionButton('Fear'));
      buttons['surprise'] = createButton('Surprise').mousePressed(() => handleEmotionButton('Surprise'));
      buttons['sadness'] = createButton('Sadness').mousePressed(() => handleEmotionButton('Sadness'));
      buttons['disgust'] = createButton('Disgust').mousePressed(() => handleEmotionButton('Disgust'));
      buttons['anger'] = createButton('Anger').mousePressed(() => handleEmotionButton('Anger'));
      buttons['anticipation'] = createButton('Anticipation').mousePressed(() => handleEmotionButton('Anticipation'));

      buttons['ecstasy'] = createButton('Ecstasy').mousePressed(() => handleEmotionButton('Ecstasy'));
      buttons['adoration'] = createButton('Adoration').mousePressed(() => handleEmotionButton('Adoration'));
      buttons['terror'] = createButton('Terror').mousePressed(() => handleEmotionButton('Terror'));
      buttons['amazement'] = createButton('Amazement').mousePressed(() => handleEmotionButton('Amazement'));
      buttons['grief'] = createButton('Grief').mousePressed(() => handleEmotionButton('Grief'));
      buttons['loathing'] = createButton('Loathing').mousePressed(() => handleEmotionButton('Loathing'));
      buttons['rage'] = createButton('Rage').mousePressed(() => handleEmotionButton('Rage'));
      buttons['vigilance'] = createButton('Vigilance').mousePressed(() => handleEmotionButton('Vigilance'));

      buttons['serenity'] = createButton('Serenity').mousePressed(() => handleEmotionButton('Serenity'));
      buttons['acceptance'] = createButton('Acceptance').mousePressed(() => handleEmotionButton('Acceptance'));
      buttons['apprehension'] = createButton('Apprehension').mousePressed(() => handleEmotionButton('Apprehension'));
      buttons['distraction'] = createButton('Distraction').mousePressed(() => handleEmotionButton('Distraction'));
      buttons['pensiveness'] = createButton('Pensiveness').mousePressed(() => handleEmotionButton('Pensiveness'));
      buttons['boredom'] = createButton('Boredom').mousePressed(() => handleEmotionButton('Boredom'));
      buttons['annoyance'] = createButton('Annoyance').mousePressed(() => handleEmotionButton('Annoyance'));
      buttons['interest'] = createButton('Interest').mousePressed(() => handleEmotionButton('Interest'));
    }

    function calculateSizes() {
      // デバイスに基づくサイズ調整
      let minDim = min(windowWidth, windowHeight);
      radiusA = minDim * 0.15;  // 内側の円
      radiusB = minDim * 0.3;   // 中間の円
      radiusC = minDim * 0.45;  // 外側の円
      emotionSize = minDim * 0.1; // ボタンのサイズを決定
    }

    function handleEmotionButton(emotion) {
      // ボタンがクリックされた時の動作
      selectedBackground = random(backgroundImages);  // ランダムな背景画像を選択
      selectedMotif = motifImages[emotion];           // 選択された感情に応じたモチーフ画像を選択
    }

    function windowResized() {
      // ウィンドウサイズが変更された際にキャンバスとサイズを調整
      resizeCanvas(windowWidth, windowHeight);
      calculateSizes();
    }
  </script>
</body>
</html>

